<%- include('includes/head') %>
<body>
    <div class="container">

        <%- include('includes/navbar')%>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- TOPBAR -->
            <%- include('includes/topbar')%>

            <!-- PAINEL PRINCIPAL - CUSTOS REGISTRADOS -->
            <section class="dashboard-panel">
                <div class="panel-header">
                    <div class="page-title">
                        <h2 style="text-align: center;"><%=msg%></h2>
                        <h1>Custos<br>Registrados</h1>
                    </div>
                    <div class="panel-actions">
                        <button type="link" onclick="window.location.href='/novo-registro'" class="btn btn-primary">Novo Registro</button>
                        <button type="link" onclick="window.location.href='/novo-custo'" class="btn btn-outline">Novos Custos</button>
                    </div>
                </div>

                <!-- Filtros -->
                <form action="/custos-registrados" method="get" class="filtros-section" id="filtro-custos-form">
                    <h3 class="filtros-title">Filtrar por</h3>
                    <p class="filtros-subtitle">Data</p>

                    <div class="filtros-fields">
                        <div class="filtro-field">
            <label for="filtro-data">Data</label>
            <input type="date" name="data" id="filtro-data" class="input-field" value="<%= dataFiltro || '' %>">
        </div>

        <button type="submit" id="btn-filtrar" class="btn btn-primary">
            Aplicar filtro
        </button>
        <button type="submit" id="btn-filtrar" class="btn btn-primary">
            <a style="color:inherit; text-decoration:none;" href="/custos-registrados">Limpar filtro</a>
        </button>
    </div>
                </form>

                <!-- Tabela de Custos -->
                <div class="table-container">
                    <table class="atividades-table">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Descrição</th>
                                <th>Valor</th>
                                <th>Categoria</th>
                                <th>AA</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% custos.forEach(custo => { %>
                            <tr>
                                <td><%= custo.data %></td>
                                <td><%= custo.dados %></td>
                                <td>R$ <%= custo.custo %></td>
                                <td><%= custo.tipo %></td>
                                <td><%= custo.aa || 'N/A' %></td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <script src="custos-registrados.js"></script>
</body>
</html>
